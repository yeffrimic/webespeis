<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Proyecto sobre agricultura libre.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>laferia.cr | JáquerEspeis</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (es)" href="../../../rss.xml">
<link rel="canonical" href="http://www.jaquerespeis.org/en/posts/laferiacr/">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="JáquerEspeis">
<link rel="prev" href="../postsutilizar-nikola/" title="Utilizar Nikola por primera vez" type="text/html">
<link rel="next" href="../postsprogramar20microcontrolador20stm322/" title="Como programar un microcontrolador stm32 con cpp" type="text/html">
<meta property="og:site_name" content="JáquerEspeis">
<meta property="og:title" content="laferia.cr">
<meta property="og:url" content="http://www.jaquerespeis.org/en/posts/laferiacr/">
<meta property="og:description" content="Proyecto sobre agricultura libre.">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2015-10-11T13:04:31-06:00">
<link rel="alternate" hreflang="es" href="../../../posts/laferiacr/">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://www.jaquerespeis.org/en/">

                <span id="blog-title">JáquerEspeis</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../../archive.html">Archivo</a>
                </li>
<li>
<a href="../../../categories/">Etiquetas</a>
                </li>
<li>
<a href="../../../rss.xml">Canal RSS</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
            </li>
<li><a href="http://www.jaquerespeis.org/" rel="alternate" hreflang="es">Español</a></li>

                
                    
    <li>
    <a href="index.md" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">laferia.cr</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    JáquerEspeis
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2015-10-11T13:04:31-06:00" itemprop="datePublished" title="2015-10-11 13:04">2015-10-11 13:04</time></a></p>
            
        <p class="sourceline"><a href="index.md" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<h2>Necesidad</h2>
<p>En este momento de la historia, en la mayoría de los casos el consumidor no conoce el origen de los productos. Con una plataforma que brinde la posibilidad de compartir información entre productores y consumidores, se pueden solucionar varios problemas que presenta esta cadena de consumo.</p>
<h2>Plataforma</h2>
<p>Una plataforma, diseñada para compartir información entre productores, proveedores y consumidores, fue creada en Australia por la fundación Open Food Network.</p>
<p>Esta plataforma permite conocer el origen de los productos, la situación del productor, métodos de producción y otros factores que pueden tener alto impacto en la decisión del consumidor de orientarse a un producto o a otro.</p>
<p><a href="http://www.youtube.com/watch?feature=player_embedded&amp;v=q1S2DfuiEh4" target="_blank"><img src="http://img.youtube.com/vi/q1S2DfuiEh4/0.jpg" alt="IMAGE ALT TEXT HERE" width="240" height="180" border="10"></a> </p>

<h2>Avance</h2>
<p>Por el momento lo que hemos logrado:</p>
<ul>
<li>Comprar el dominio</li>
<li>Configurar ofn en ubuntu 14.04</li>
<li>Necesitamos alguien con experiencia en ruby y rails para que revise</li>
<li>Tenemos un ambiente de pruebas</li>
</ul>
<h2>Instalación</h2>
<h3>Ambiente de Producción</h3>
<ol>
<li>Agregar el "Host" a la configuración de la Base de datos en <code>config/database.yml</code>:</li>
</ol>
<pre class="code literal-block"><span></span><span class="n">production</span><span class="o">:</span>
  <span class="n">adapter</span><span class="o">:</span> <span class="n">postgresql</span>
  <span class="n">encoding</span><span class="o">:</span> <span class="n">unicode</span>
  <span class="n">database</span><span class="o">:</span> <span class="n">open_food_network_prod</span>
  <span class="n">pool</span><span class="o">:</span> <span class="mi">5</span>
  <span class="n">host</span><span class="o">:</span> <span class="n">localhost</span>
  <span class="n">username</span><span class="o">:</span> <span class="n">ofn_user</span>
  <span class="n">password</span><span class="o">:</span> <span class="n">toor</span>
</pre>


<ol>
<li>Crear la base de datos:</li>
</ol>
<pre class="code literal-block"><span></span>/opt/openfoodnetwork/www# RAILS_ENV=production rake db:schema:load db:seed
</pre>


<ol>
<li>Precompilar los activos en el ambiente de producción:</li>
</ol>
<pre class="code literal-block"><span></span>/opt/openfoodnetwork/www# RAILS_ENV=production rake assets:clean
/opt/openfoodnetwork/www# RAILS_ENV=production rake assets:precompile
</pre>


<ol>
<li>Correr Unicorn en producción manualmente</li>
</ol>
<pre class="code literal-block"><span></span> cd /opt/openfoodnetwork/www &amp;&amp; bundle exec unicorn -c ../shared/config/unicorn.rb -E production -D
</pre>


<h2>Solucion de Problemas</h2>
<ul>
<li>Información del Log de Unicorn:</li>
</ul>
<pre class="code literal-block"><span></span>$ tail -f /opt/openfoodnetwork/shared/log/unicorn.log
</pre>


<ul>
<li>
<p>Encontrar la ubicación del Unix Socket en /opt/openfoodnetwork/shared/config/unicorn.rb</p>
</li>
<li>
<p>Verificar que el Unix socket se encuentre creado:</p>
</li>
</ul>
<pre class="code literal-block"><span></span>$ ls -lah /tmp/unicorn.openfoodnetwork.sock
</pre>


<ul>
<li>Verificar que Unicorn esté corriendo:</li>
</ul>
<pre class="code literal-block"><span></span>$ ps aux <span class="p">|</span> grep unicorn
</pre>


<h2>Referencias</h2>
<p>(1) http://teotti.com/use-of-rails-environments/
(2) https://www.digitalocean.com/community/tutorials/how-to-deploy-a-rails-app-with-unicorn-and-nginx-on-ubuntu-14-04</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../postsutilizar-nikola/" rel="prev" title="Utilizar Nikola por primera vez">Previous post</a>
            </li>
            <li class="next">
                <a href="../postsprogramar20microcontrolador20stm322/" rel="next" title="Como programar un microcontrolador stm32 con cpp">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Licencia Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>Publicado bajo una licencia <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a>. - Creado con <a href="https://getnikola.com" rel="nofollow">Nikola</a>
            
        </footer>
</div>
</div>


            <script src="../../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
